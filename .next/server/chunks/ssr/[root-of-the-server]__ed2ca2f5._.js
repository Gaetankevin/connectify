module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},32324,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(5050),f=(0,e.createServerReference)("60c34110c9b4f198799d0d18a0210875e3b8c51fcf",e.callServer,void 0,e.findSourceMapURL,"login"),g=a.i(39081);let h=[{key:"username_email",label:"Nom d'utilisateur ou email",placeholder:"Nom d'utilisateur ou email"},{key:"password",label:"Mot de passe",type:"password",placeholder:"Votre mot de passe"}];function i(){let[a,e,i]=(0,c.useActionState)(f,void 0),j=(0,d.useRouter)();(0,c.useEffect)(()=>{if(a&&a.redirectTo){let b=a.redirectTo;b&&j.push(b)}},[a,j]);let[k,l]=(0,c.useState)(0),[m,n]=(0,c.useState)({username_email:"",password:""}),[o,p]=(0,c.useState)(null),q=h[k];async function r(a,b){p(null);try{let c=g.LoginFormSchema.shape[a];if(!c)return!0;return c.parse(b),!0}catch(a){return a?.issues&&Array.isArray(a.issues)?p(a.issues.map(a=>a.message).join(" ")):p(a.message||"Valeur invalide"),!1}}async function s(){let a=m[q.key];await r(q.key,a)&&l(a=>Math.min(a+1,h.length-1))}return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:(0,b.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-6",children:[(0,b.jsx)("h1",{className:"text-center text-2xl font-bold mb-4",children:"Se connecter"}),(0,b.jsxs)("form",{action:e,method:"post",className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center gap-2 justify-center",children:h.map((a,c)=>(0,b.jsx)("div",{className:`h-2 w-8 rounded ${c<=k?"bg-indigo-600":"bg-gray-200"}`},a.key))}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:q.label}),(0,b.jsx)("input",{autoFocus:!0,name:q.key,value:m[q.key],onChange:function(a){let b=a.target.value;n(a=>({...a,[q.key]:b})),p(null)},type:q.type??"text",placeholder:q.placeholder,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),o&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-2",children:o})]}),Object.entries(m).map(([a,c])=>(0,b.jsx)("input",{type:"hidden",name:a,value:c},a)),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("button",{type:"button",onClick:function(){p(null),l(a=>Math.max(0,a-1))},disabled:0===k,className:"px-4 py-2 rounded-lg border disabled:opacity-50",children:"Retour"}),k<h.length-1?(0,b.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:"Suivant"}):(0,b.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:i?"Connexion...":"Se connecter"})]}),a?.message&&(0,b.jsx)("p",{className:"text-green-600",children:a.message}),a?.errors&&(0,b.jsx)("div",{className:"text-red-600 text-sm",children:Object.entries(a.errors).map(([a,c])=>(0,b.jsxs)("p",{children:[a,": ",Array.isArray(c)?c.join(", "):c]},a))})]})]})})}a.s(["default",()=>i],32324)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ed2ca2f5._.js.map